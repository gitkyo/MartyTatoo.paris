!function(a){"use strict";function b(){e=a.innerWidth||document.documentElement.clientWidth,f=a.innerHeight||document.documentElement.clientHeight}function c(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent("on"+b,function(){c.call(a)})}function d(c){a.requestAnimationFrame(function(){"scroll"!==c.type&&b();for(var a=0,d=o.length;a<d;a++)"scroll"!==c.type&&(o[a].coverImage(),o[a].clipContainer()),o[a].onScroll()})}Date.now||(Date.now=function(){return(new Date).getTime()}),a.requestAnimationFrame||!function(){for(var b=["webkit","moz"],c=0;c<b.length&&!a.requestAnimationFrame;++c){var d=b[c];a.requestAnimationFrame=a[d+"RequestAnimationFrame"],a.cancelAnimationFrame=a[d+"CancelAnimationFrame"]||a[d+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(a.navigator.userAgent)||!a.requestAnimationFrame||!a.cancelAnimationFrame){var e=0;a.requestAnimationFrame=function(a){var b=Date.now(),c=Math.max(e+16,b);return setTimeout(function(){a(e=c)},c-b)},a.cancelAnimationFrame=clearTimeout}}();var e,f,g=function(){if(!a.getComputedStyle)return!1;var b,c=document.createElement("p"),d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};(document.body||document.documentElement).insertBefore(c,null);for(var e in d)"undefined"!=typeof c.style[e]&&(c.style[e]="translate3d(1px,1px,1px)",b=a.getComputedStyle(c).getPropertyValue(d[e]));return(document.body||document.documentElement).removeChild(c),"undefined"!=typeof b&&b.length>0&&"none"!==b}(),h=navigator.userAgent.toLowerCase().indexOf("android")>-1,i=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!a.MSStream,j=!!a.opera,k=/Edge\/\d+/.test(navigator.userAgent),l=/Trident.*rv[ :]*11\./.test(navigator.userAgent),m=!!Function("/*@cc_on return document.documentMode===10@*/")(),n=document.all&&!a.atob;b();var o=[],p=function(){function a(a,c){var d,e=this;if(e.$item=a,e.defaults={type:"scroll",speed:.5,imgSrc:null,imgWidth:null,imgHeight:null,enableTransform:!0,elementInViewport:null,zIndex:-100,noAndroid:!1,noIos:!0,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null},d=JSON.parse(e.$item.getAttribute("data-jarallax")||"{}"),e.options=e.extend({},e.defaults,d,c),!(h&&e.options.noAndroid||i&&e.options.noIos)){e.options.speed=Math.min(2,Math.max(-1,parseFloat(e.options.speed)));var f=e.options.elementInViewport;f&&"object"==typeof f&&"undefined"!=typeof f.length&&(f=f[0]),!f instanceof Element&&(f=null),e.options.elementInViewport=f,e.instanceID=b++,e.image={src:e.options.imgSrc||null,$container:null,$item:null,width:e.options.imgWidth||null,height:e.options.imgHeight||null,useImgTag:i||h||j||l||m||k},e.initImg()&&e.init()}}var b=0;return a}();p.prototype.css=function(b,c){if("string"==typeof c)return a.getComputedStyle?a.getComputedStyle(b).getPropertyValue(c):b.style[c];c.transform&&(c.WebkitTransform=c.MozTransform=c.transform);for(var d in c)b.style[d]=c[d];return b},p.prototype.extend=function(a){a=a||{};for(var b=1;b<arguments.length;b++)if(arguments[b])for(var c in arguments[b])arguments[b].hasOwnProperty(c)&&(a[c]=arguments[b][c]);return a},p.prototype.initImg=function(){var a=this;return null===a.image.src&&(a.image.src=a.css(a.$item,"background-image").replace(/^url\(['"]?/g,"").replace(/['"]?\)$/g,"")),!(!a.image.src||"none"===a.image.src)},p.prototype.init=function(){function a(){b.coverImage(),b.clipContainer(),b.onScroll(!0),b.options.onInit&&b.options.onInit.call(b),setTimeout(function(){b.$item&&b.css(b.$item,{"background-image":"none","background-attachment":"scroll","background-size":"auto"})},0)}var b=this,c={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:"none"},d={position:"fixed"};b.$item.setAttribute("data-jarallax-original-styles",b.$item.getAttribute("style")),"static"===b.css(b.$item,"position")&&b.css(b.$item,{position:"relative"}),"auto"===b.css(b.$item,"z-index")&&b.css(b.$item,{zIndex:0}),b.image.$container=document.createElement("div"),b.css(b.image.$container,c),b.css(b.image.$container,{visibility:"hidden","z-index":b.options.zIndex}),b.image.$container.setAttribute("id","jarallax-container-"+b.instanceID),b.$item.appendChild(b.image.$container),b.image.useImgTag&&g&&b.options.enableTransform?(b.image.$item=document.createElement("img"),b.image.$item.setAttribute("src",b.image.src),d=b.extend({"max-width":"none"},c,d)):(b.image.$item=document.createElement("div"),d=b.extend({"background-position":"50% 50%","background-size":"100% auto","background-repeat":"no-repeat no-repeat","background-image":'url("'+b.image.src+'")'},c,d)),n&&(d.backgroundAttachment="fixed"),b.parentWithTransform=0;for(var e=b.$item;null!==e&&e!==document&&0===b.parentWithTransform;){var f=b.css(e,"-webkit-transform")||b.css(e,"-moz-transform")||b.css(e,"transform");f&&"none"!==f&&(b.parentWithTransform=1,b.css(b.image.$container,{transform:"translateX(0) translateY(0)"})),e=e.parentNode}b.css(b.image.$item,d),b.image.$container.appendChild(b.image.$item),b.image.width&&b.image.height?a():b.getImageSize(b.image.src,function(c,d){b.image.width=c,b.image.height=d,a()}),o.push(b)},p.prototype.destroy=function(){for(var a=this,b=0,c=o.length;b<c;b++)if(o[b].instanceID===a.instanceID){o.splice(b,1);break}var d=a.$item.getAttribute("data-jarallax-original-styles");a.$item.removeAttribute("data-jarallax-original-styles"),"null"===d?a.$item.removeAttribute("style"):a.$item.setAttribute("style",d),a.$clipStyles&&a.$clipStyles.parentNode.removeChild(a.$clipStyles),a.image.$container.parentNode.removeChild(a.image.$container),a.options.onDestroy&&a.options.onDestroy.call(a),delete a.$item.jarallax;for(var e in a)delete a[e]},p.prototype.getImageSize=function(a,b){if(a&&b){var c=new Image;c.onload=function(){b(c.width,c.height)},c.src=a}},p.prototype.clipContainer=function(){if(!n){var a=this,b=a.image.$container.getBoundingClientRect(),c=b.width,d=b.height;if(!a.$clipStyles){a.$clipStyles=document.createElement("style"),a.$clipStyles.setAttribute("type","text/css"),a.$clipStyles.setAttribute("id","#jarallax-clip-"+a.instanceID);var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(a.$clipStyles)}var f=["#jarallax-container-"+a.instanceID+" {","   clip: rect(0 "+c+"px "+d+"px 0);","   clip: rect(0, "+c+"px, "+d+"px, 0);","}"].join("\n");a.$clipStyles.styleSheet?a.$clipStyles.styleSheet.cssText=f:a.$clipStyles.innerHTML=f}},p.prototype.coverImage=function(){var a=this;if(a.image.width&&a.image.height){var b=a.image.$container.getBoundingClientRect(),c=b.width,d=b.height,e=b.left,h=a.image.width,i=a.image.height,j=a.options.speed,k="scroll"===a.options.type||"scroll-opacity"===a.options.type,l=0,m=0,n=d,o=0,p=0;k&&(l=j<0?j*Math.max(d,f):j*(d+f),j>1?n=Math.abs(l-f):j<0?n=l/j+Math.abs(l):n+=Math.abs(f-d)*(1-j),l/=2),m=n*h/i,m<c&&(m=c,n=m*i/h),a.bgPosVerticalCenter=0,!(k&&n<f)||g&&a.options.enableTransform||(a.bgPosVerticalCenter=(f-n)/2,n=f),k?(o=e+(c-m)/2,p=(f-n)/2):(o=(c-m)/2,p=(d-n)/2),g&&a.options.enableTransform&&a.parentWithTransform&&(o-=e),a.parallaxScrollDistance=l,a.css(a.image.$item,{width:m+"px",height:n+"px",marginLeft:o+"px",marginTop:p+"px"}),a.options.onCoverImage&&a.options.onCoverImage.call(a)}},p.prototype.isVisible=function(){return this.isElementInViewport||!1},p.prototype.onScroll=function(a){var b=this;if(b.image.width&&b.image.height){var c=b.$item.getBoundingClientRect(),d=c.top,h=c.height,i={position:"absolute",visibility:"visible",backgroundPosition:"50% 50%"},j=c;if(b.options.elementInViewport&&(j=b.options.elementInViewport.getBoundingClientRect()),b.isElementInViewport=j.bottom>=0&&j.right>=0&&j.top<=f&&j.left<=e,a||b.isElementInViewport){var k=Math.max(0,d),l=Math.max(0,h+d),m=Math.max(0,-d),o=Math.max(0,d+h-f),p=Math.max(0,h-(d+h-f)),q=Math.max(0,-d+f-h),r=1-2*(f-d)/(f+h),s=1;if(h<f?s=1-(m||o)/h:l<=f?s=l/f:p<=f&&(s=p/f),"opacity"!==b.options.type&&"scale-opacity"!==b.options.type&&"scroll-opacity"!==b.options.type||(i.transform="translate3d(0, 0, 0)",i.opacity=s),"scale"===b.options.type||"scale-opacity"===b.options.type){var t=1;b.options.speed<0?t-=b.options.speed*s:t+=b.options.speed*(1-s),i.transform="scale("+t+") translate3d(0, 0, 0)"}if("scroll"===b.options.type||"scroll-opacity"===b.options.type){var u=b.parallaxScrollDistance*r;g&&b.options.enableTransform?(b.parentWithTransform&&(u-=d),i.transform="translate3d(0, "+u+"px, 0)"):b.image.useImgTag?i.top=u+"px":(b.bgPosVerticalCenter&&(u+=b.bgPosVerticalCenter),i.backgroundPosition="50% "+u+"px"),i.position=n?"absolute":"fixed"}b.css(b.image.$item,i),b.options.onScroll&&b.options.onScroll.call(b,{section:c,beforeTop:k,beforeTopEnd:l,afterTop:m,beforeBottom:o,beforeBottomEnd:p,afterBottom:q,visiblePercent:s,fromViewportCenter:r})}}},c(a,"scroll",d),c(a,"resize",d),c(a,"orientationchange",d),c(a,"load",d);var q=function(a){("object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName)&&(a=[a]);var b,c=arguments[1],d=Array.prototype.slice.call(arguments,2),e=a.length,f=0;for(f;f<e;f++)if("object"==typeof c||"undefined"==typeof c?a[f].jarallax||(a[f].jarallax=new p(a[f],c)):a[f].jarallax&&(b=a[f].jarallax[c].apply(a[f].jarallax,d)),"undefined"!=typeof b)return b;return a};q.constructor=p;var r=a.jarallax;if(a.jarallax=q,a.jarallax.noConflict=function(){return a.jarallax=r,this},"undefined"!=typeof jQuery){var s=function(){var b=arguments||[];Array.prototype.unshift.call(b,this);var c=q.apply(a,b);return"object"!=typeof c?c:this};s.constructor=p;var t=jQuery.fn.jarallax;jQuery.fn.jarallax=s,jQuery.fn.jarallax.noConflict=function(){return jQuery.fn.jarallax=t,this}}c(a,"DOMContentLoaded",function(){q(document.querySelectorAll("[data-jarallax], [data-jarallax-video]"))})}(window);